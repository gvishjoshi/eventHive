<!DOCTYPE html>
<html>
	<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
			<link rel="stylesheet" type="text/css" href="./theme.css">
</head>
	
	

<!--
<header class="header">
<a href="#" id="logo"></a>

<nav>

<a href="#" id="menu-icon"></a>

<ul>

<li><a href="#" class="current">Home</a></li>
<li><a href="#">About</a></li>
<li><a href="#">Work</a></li>
<li><a href="#">Blog</a></li>
<li><a href="#">Contact</a></li>

</ul>

</nav>
	</header>	
-->
	<body onload="init()">>	
<ul id="tabs">
  <li><a href="#about">About JavaScript tabs</a></li>
  <li><a href="#advantages">Advantages of tabs</a></li>
  <li><a href="#usage">Using tabs</a></li>
</ul>		
<div class="tabContent" id="about">
  <h2>About JavaScript tabs</h2>
  <div>
    <p>JavaScript tabs partition your Web page content into tabbed sections. Only one section at a time is visible.</p>
    <p>The code is written in such a way that the page degrades gracefully in browsers that don't support JavaScript or CSS.</p>
  </div>
</div>		
		<div class="categories">
		 <input id="tab1" type="radio" name="tabs" checked>
  <label for="tab1">All Events</label>
    
  <input id="tab2" type="radio" name="tabs">
  <label for="tab2">JAN 2018</label>
    
  <input id="tab3" type="radio" name="tabs">
  <label for="tab3">FEB 2018</label>
    
  <input id="tab4" type="radio" name="tabs">
  <label for="tab4">MAR 2018</label>
		</div>
		
<script>
	var tabLinks = new Array();
    var contentDivs = new Array();
    var requestURL = 'https://raw.githubusercontent.com/gvishjoshi/eventHive/master/eventdata.json';
    var request = new XMLHttpRequest();
    request.open('GET', requestURL);
    request.responseType = 'text';
    request.send();
    request.onload = function() {
      var superHeroesText = request.response;
      var superHeroes = JSON.parse(superHeroesText);
      showHeroes(superHeroes); 
    }
    function showHeroes(jsonObj) {
      var heroes = jsonObj['eventdata']['eventdetails'];

	    	        
	    	var wrapper = document.createElement('div');
	    	wrapper.Id = "wrapper";
	    wrapper.className = "wrapper";
 		document.body.appendChild(wrapper);  
	    
	        var aside1 = document.createElement('div');
	    	aside1.Id = "aside-1";
	 	    aside1.className = "aside-1";
 		wrapper.appendChild(aside1);
	    
	    	var main = document.createElement('div');
	    	main.id = "main";
	    main.className = "main";
	        wrapper.appendChild(main);
	    
    
/*    	var eventcon = document.createElement('div');
	    	eventcon.Id = "container";
	    eventcon.className = "container";
	   	main.appendChild(eventcon);

*/	    	      var eventrow = document.createElement('div');
	      eventrow.Id = "eventrow";	   
	      eventrow.className = "row";
//	      eventcon.appendChild(eventrow);
	      main.appendChild(eventrow);
	   
      for(var i = 0; i < heroes.length; i++) {

	      
	    var eventcol = document.createElement('div');
	    eventcol.Id = "eventcol";
	      eventcol.className = "col";
	    eventrow.appendChild(eventcol);
	    
        var eventimg = document.createElement('div');
	      eventimg.Id = "eventimg";
		eventimg.className = "link";
	      var content = '<img src="Desert.jpg" alt="Mounytain View">';
		     eventimg.innerHTML = content; 
	      eventcol.appendChild(eventimg);
	      
	      var eventinfo = document.createElement('div');
	      eventinfo.className = "span";
	      
	      var eventnm = document.createElement('div');
        var eventname = document.createElement('label');
	      eventname.Id = "eventname";
	      eventname.innerHTML = heroes[i].eventname;
	      eventnm.appendChild(eventname);
	      eventinfo.appendChild(eventnm);
	      
	      var eventhost = document.createElement('label');
	      eventhost.Id = "eventhost";
	      eventhost.innerHTML = heroes[i].eventhost;
	     eventinfo.appendChild(eventhost);
	      eventcol.appendChild(eventinfo);
	      
	      var eventcate = document.createElement('div');
	      eventcate.className = "span";
	      var eventtype = document.createElement('label');
	      eventtype.Id = "eventtype";
	      eventtype.innerHTML = heroes[i].eventtype;
	     eventcate.appendChild(eventtype);
	      eventcol.appendChild(eventcate);
	      
		var eventdttm = document.createElement('div');
	      eventdttm.className = "span";	
	      
	      var eventdt = document.createElement('div');
	      var eventstart = document.createElement('label');
	      eventstart.Id = "eventstart";
	      eventstart.innerHTML = heroes[i].eventstart;
	      eventdt.appendChild(eventstart);
	      eventdttm.appendChild(eventdt);
	      
	      var eventtm = document.createElement('div');
	      var eventtime = document.createElement('label');
	      eventtime.Id = "eventtime";
	      eventtime.innerHTML = heroes[i].eventtime;
	      eventtm.appendChild(eventtime);
	      eventdttm.appendChild(eventtm);
	      eventcol.appendChild(eventdttm);
	      
	      var eventad = document.createElement('div');
	      eventad.className = "span";	
	      var eventaddress = document.createElement('label');
	      eventaddress.Id = "eventaddress";
	      eventaddress.innerHTML = heroes[i].eventaddress;
	      eventad.appendChild(eventaddress);
	      eventcol.appendChild(eventad);

	      var ticketstatus = document.createElement('a');
	      ticketstatus.Id = "ticketstatus";
		ticketstatus.textContent = heroes[i].ticketstatus;
	      ticketstatus.href = 'https://raw.githubusercontent.com/gvishjoshi/eventHive/master/discounts.html';
	      eventcol.appendChild(ticketstatus);

	      var bookbutton = document.createElement("INPUT");
	      bookbutton.Id = "bookbutton";
	      bookbutton.className ="wisteria-flat-button" 
		bookbutton.setAttribute("type", "submit");
		bookbutton.value	=	'Book Tickets';
	       eventcol.appendChild(bookbutton);
	      
//	      main.appendChild(eventcon);
        
      }
	    var aside2 = document.createElement('div');
	    	aside2.Id = "aside-2";
	    aside2.className = "aside-2";
 		document.body.appendChild(aside2);  
	    
	    var footer = document.createElement('div');
	    	footer.Id = "footer";
	    footer.className = "footer";
 		document.body.appendChild(footer);   
	    
    }
function Tabs(selector, options) {
    if (!(this instanceof Tabs)) return new Tabs(selector, options);

    selector = selector + '' === selector ? selector : 'a[href^="#tab"]';
    options = options && options.hasOwnProperty ? options : {};

    this.options = {};

    var item;
    for (item in this.defaults) this.options[item] = (
        options[item] === undefined ? this.defaults[item] : options[item]
    );

    var links = document.querySelectorAll(selector);
    for (var i = 0; links[i]; i++) {
        this[this.push(links[i]) - 1].addEventListener('click', this);
    }

    if (this[this.options.activeTab || 0]) {
        this[this.options.activeTab || 0].click();
    }
}
Tabs.prototype = [];
Tabs.prototype.defaults = {
    contentActive: 'active',
    linkActive: 'active',
    allowClose: false,
    activeTab: 0
};
Tabs.prototype.options = {};
Tabs.prototype.latest = null;
Tabs.prototype.handleEvent = function(event, content) {
    event.preventDefault();

    if (this.latest) {
        this.latest.classList.remove(this.options.linkActive);
        if (content = document.querySelector(this.latest.hash)) {
            content.classList.remove(this.options.contentActive);
        }
    }

    if (this.latest === event.target && this.options.allowClose) {
        this.latest = null;
        return;
    }

    this.latest = event.target;
    this.latest.classList.add(this.options.linkActive);
    if (content = document.querySelector(this.latest.hash)) {
        content.classList.add(this.options.contentActive);
    }
};

/* Multi-level example with closeable tabs */
new Tabs('.tab-link', {
    contentActive: 'alive',
    allowClose: true,
    activeTab: 2
}).forEach(function(tabLink) {
    new Tabs(tabLink.hash + ' .tab-inner_link');
});
function init() {

      // Grab the tab links and content divs from the page
      var tabListItems = document.getElementById('tabs').childNodes;
      for ( var i = 0; i < tabListItems.length; i++ ) {
        if ( tabListItems[i].nodeName == "LI" ) {
          var tabLink = getFirstChildWithTagName( tabListItems[i], 'A' );
          var id = getHash( tabLink.getAttribute('href') );
          tabLinks[id] = tabLink;
          contentDivs[id] = document.getElementById( id );
        }
      }

      // Assign onclick events to the tab links, and
      // highlight the first tab
      var i = 0;

      for ( var id in tabLinks ) {
        tabLinks[id].onclick = showTab;
        tabLinks[id].onfocus = function() { this.blur() };
        if ( i == 0 ) tabLinks[id].className = 'selected';
        i++;
      }

      // Hide all content divs except the first
      var i = 0;

      for ( var id in contentDivs ) {
        if ( i != 0 ) contentDivs[id].className = 'tabContent hide';
        i++;
      }
    }	
    function showTab() {
      var selectedId = getHash( this.getAttribute('href') );

      // Highlight the selected tab, and dim all others.
      // Also show the selected content div, and hide all others.
      for ( var id in contentDivs ) {
        if ( id == selectedId ) {
          tabLinks[id].className = 'selected';
          contentDivs[id].className = 'tabContent';
        } else {
          tabLinks[id].className = '';
          contentDivs[id].className = 'tabContent hide';
        }
      }

      // Stop the browser following the link
      return false;
    }	
function getFirstChildWithTagName( element, tagName ) {
      for ( var i = 0; i < element.childNodes.length; i++ ) {
        if ( element.childNodes[i].nodeName == tagName ) return element.childNodes[i];
      }
    }	
function getHash( url ) {
      var hashPos = url.lastIndexOf ( '#' );
      return url.substring( hashPos + 1 );
    }	
    </script>
<!--		
  <aside class="aside aside-2">Aside 2</aside>
			<footer class="footer"><i>designed by </i>Morpheus Software Solutions Ltd</footer>
-->		
	</body>
</html>
